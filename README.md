# Aliyun SSH Check - 阿里云SSH端口检测系统

这个项目使用GitHub Actions自动监控服务器的SSH端口（22端口）可用性，当检测到连接失败时会通过飞书机器人发送告警通知。

## 功能特性

- 🔍 **自动监控**: 每5分钟自动检查一次SSH端口状态
- 🔄 **重试机制**: 连续测试3次，间隔时间为5秒和30秒
- 📢 **告警通知**: 3次测试都失败时通过飞书webhook发送告警
- 🚀 **手动触发**: 支持手动触发监控任务

## 监控目标

- **服务器**: artnests.com
- **端口**: 22 (SSH)
- **检测频率**: 每5分钟
- **失败阈值**: 连续3次失败

## 告警配置

当SSH端口连续3次检测失败时，会发送包含以下信息的告警：

- 服务器地址和端口
- 失败状态和次数
- 检测时间
- 提醒检查服务器状态

## 使用方法

1. 将此项目推送到GitHub仓库
2. GitHub Actions会自动开始按计划运行监控任务
3. 也可以在Actions页面手动触发监控

## 工作流程

1. 每5分钟触发一次监控任务
2. 使用`nc`命令测试端口连接性
3. 第一次失败后等待5秒重试
4. 第二次失败后等待30秒重试
5. 如果3次都失败，发送飞书告警通知

## 技术实现

- 使用Ubuntu最新版作为运行环境
- 使用`netcat (nc)`进行端口连接测试
- 使用`curl`发送HTTP POST请求到飞书webhook
- 10秒连接超时设置，避免长时间等待

## 注意事项

- 确保GitHub仓库已启用Actions功能
- 飞书webhook地址已预配置在工作流中
- 监控日志可在GitHub Actions页面查看
